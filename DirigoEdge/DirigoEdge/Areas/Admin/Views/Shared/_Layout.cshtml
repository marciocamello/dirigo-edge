@using SquishIt.Framework

<!DOCTYPE html>
<!--[if lt IE 7 ]> <html class="ie ie6 no-js" lang="en"> <![endif]-->
<!--[if IE 7 ]>    <html class="ie ie7 no-js" lang="en"> <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8" ><![endif]-->
<!--[if IE 8 ]>    <html class="ie ie8 no-js" lang="en"> <![endif]-->
<!--[if IE 9 ]>    <html class="ie ie9 no-js" lang="en"> <![endif]-->
<!--[if gt IE 9]><!-->
<html class="no-js" lang="en">
<!--<![endif]-->

<!--[if lt IE 9]>
	<script src="@Url.Content("~/Scripts/html5.js")"></script>
	<![endif]-->

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

    @* ** Keeps viewport scale at 1 - this disables zooming / scaling on mobile phones **
		   ** Uncomment the line below if you are creating a responsive or mobile site **  *@
    <meta name="viewport" content="width=device-width, initial-scale=1">

    @* ** Basic Meta Information ** *@
    <meta name="description" content="Dirigo Edge Admin Area">
    <meta name="distribution" content="global" />
    <meta name="robots" content="all" />

    @* ** FavIcon ** *@
    <link rel="shortcut icon" href="/favicon.ico" />

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,300' rel='stylesheet' type='text/css'>

    <title>@ViewBag.Title</title>
    

    @{ 
        // SquishIt : https://github.com/jetheredge/SquishIt
        string style = SquishIt.Framework.Bundle.Css()
                .Add("~/Content/themes/base/css/foundation.css")
                .Add("~/Content/themes/base/css/base.css")
                .Add("~/Content/themes/base/css/common.css")
                
                .Add("~/Content/themes/base/css/offcanvas.css")

                .Add("~/Content/themes/base/css/kendo.common.min.css")
                .Add("~/Content/themes/base/css/kendo.default.min.css")

                .Add("~/Content/themes/base/css/print.css")
                .Add("~/Content/themes/base/css/msftStyles.css") // Styles for membership framework validation errors, etc.
				
                .Add("~/Scripts/jqueryui/css/smoothness/jquery-ui-1.9.2.custom.css")
                
                .Add("~/Areas/Admin/Content/themes/base/admin.css")
                .Add("~/Areas/Admin/Content/themes/base/mediaQueries.css")
                .Add("~/Areas/Admin/Content/themes/base/CSS/jquery.dataTables.css")
			.Render("~/CSS/admin_#.css");
    }
    @Html.Raw(style)

    @* Modernizr stays in <head> *@
    <script src="@Url.Content("~/Scripts/modernizr-2.6.2.min.js")" type="text/javascript"></script>

</head>
<body class="off-canvas">
    <!--[if lt IE 7]>
			<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->

    <div class="contents">

        <div class="show-for-small menu-action contain">
            
            <a href="#sidebar" id="sidebarButton" class="sidebar-button small secondary button">
                <svg xml:space="preserve" enable-background="new 0 0 48 48" viewBox="0 0 48 48" height="18px" width="18px" y="0px" x="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg" id="Layer_1" version="1.1">
                    <line y2="8.907" x2="48" y1="8.907" x1="0" stroke-miterlimit="10" stroke-width="8" stroke="#000000" fill="none" />
                    <line y2="24.173" x2="48" y1="24.173" x1="0" stroke-miterlimit="10" stroke-width="8" stroke="#000000" fill="none" />
                    <line y2="39.439" x2="48" y1="39.439" x1="0" stroke-miterlimit="10" stroke-width="8" stroke="#000000" fill="none" />
                    Menu
                </svg>
            </a>
        </div>

        <div class="top-barContainer">
            <div class="row header hide-for-small">
                <nav class="top-bar">
                    <ul>
                        <!-- Title Area -->
                        <li class="name has-dropdown">
                            <h1 class="logo">
                                <a href="@Url.Action("Index", "Admin")">
                                    <img src="/Content/logo.png" alt="Edge Admin Logo"/>
                                </a>
                            </h1>
                            <ul class="dropdown">
                                <li><a href="/">Site Home</a></li>
                                <li><a href="/Blog">Site Blog</a></li>
                                <li><a href="@Url.Action("Index", "Admin")">Admin Home</a></li>
                            </ul>
                        </li>
                        <li class="toggle-topbar"><a href="#"></a></li>
                    </ul>

                    <section>
                        <ul class="left">
                            <!-- Blog Admin Nav Section -->
                            <li class="divider"></li>
                            <li class="has-dropdown">
                                <a href="@Url.Action("ManageBlogs", "Admin")" class="active">Quick Actions</a>
                                <ul class="dropdown">
                                    <li class="title back js-generated" style="">
                                        <h5></h5>
                                    </li>
                                    <li>
                                        <label>Actions</label></li>
                                    <li><a class="" href="@Url.Action("AddBlog", "Admin")">New Blog +</a></li>
                                    <li><a href="@Url.Action("NewContentPage", "Admin")">New Content Page +</a></li>
                                    <li><a href="@Url.Action("NewContentModule", "Admin")">New Content Module +</a></li>
                                </ul>
                            </li>

                            <!-- User Admin Nav Section -->
                            <li class="divider"></li>
                            <li class="hide"><a href="@Url.Action("ManageUsers", "Admin")">User Admin</a></li>
                        </ul>

                        <!-- Current User Nav Section -->
                        <ul class="right">
                            <li class="divider"></li>
                            <li class="has-dropdown">
                                @{
									MembershipUser u = Membership.GetUser(HttpContext.Current.User.Identity.Name);
                                }
                                <a href="#">@u.UserName</a>
                                <ul class="dropdown">
                                    <li>
                                        <label>Actions</label>
                                    </li>
                                    <li>
                                        <a href="/Account/Manage">Change Password</a>
                                    </li>
                                    <li>
                                        <a href="/account/LogOff">Logout</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>

                    </section>
                </nav>
            </div>
        </div>

        <div class="row visibleOverflow">
            <section id="Main" role="main">
                @RenderBody()
            </section>
            
            <section role="complementary" id="sidebar">
                <!-- New Nav Structure -->
                <ul class="tabs vertical hide-on-phones">
                    <li>
                        <a href="@Url.Action("Index", "Admin")">
                            <img src="/Areas/Admin/Content/themes/base/Images/icons/home.png" class="adminIcon" />
                            <span>Dashboard</span>
                        </a>
                    </li>
                    <li>
                        <a href="@Url.Action("ManageMedia", "Admin")">
                            <img src="/Areas/Admin/Content/themes/base/Images/icons/folder.png" class="adminIcon" />
                            <span>Media</span>
                        </a>
                    </li>
                    <li class="has-dropdown">
                        <a href="#">
                            <img src="/Areas/Admin/Content/themes/base/Images/icons/edit.png" class="adminIcon" />
                            <span>Blog</span></a>
                        <ul class="dropdown">
                            <li>
                                <a href="@Url.Action("ManageBlogs", "Admin")">
                                    <span>Manage Blogs</span>
                                </a>
                            </li>
                            <li>
                                <a href="@Url.Action("ManageCategories", "Admin")">
                                    <span>Categories</span>
                                </a>
                            </li>
                            <li>
                                <a href="@Url.Action("AddBlog", "Admin")"><span>Add Blog +</span></a>
                            </li>
                        </ul>
                    </li>
                    <li class="has-dropdown">
                        <a href="#">
                            <img src="/Areas/Admin/Content/themes/base/Images/icons/file.png" class="adminIcon" />
                            <span>Content</span>
                        </a>
                        <ul class="dropdown">
                            <li>
                                <a href="@Url.Action("ManageContent", "Admin")">
                                    <span>Pages</span>
                                </a>
                            </li>
                            <li>
                                <a href="@Url.Action("ManageModules", "Admin")">
                                    <span>Modules</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                    <li class="hide">
                        <a href="@Url.Action("ManageMedia", "Admin")">
                            <img src="/Areas/Admin/Content/themes/base/Images/icons/pictures.png" class="adminIcon" />
                            <span>Media</span>
                        </a>
                    </li>
                    <li>
                        <a href="@Url.Action("ManageUsers", "Admin")">
                            <img src="/Areas/Admin/Content/themes/base/Images/icons/group.png" class="adminIcon" />
                            <span>Users</span>
                        </a>
                    </li>
                    <li class="has-dropdown">
                        <a href="#">
                            <img src="/Areas/Admin/Content/themes/base/Images/icons/support.png" class="adminIcon" />
                            <span>Settings</span>
                        </a>
                        <ul class="dropdown">
                            <li>
                                <a href="@Url.Action("SiteSettings", "Admin")">
                                    <span>Site Settings</span>
                                </a>
                            </li>
                            <li>
                                <a href="@Url.Action("BlogSettings", "Admin")">
                                    <span>Blog Settings</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </section>
        </div>
    </div>

    @RenderSection("Modals", false)

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script>window.jQuery || document.write('<script src="/Scripts/jquery/jquery-1.8.2.min.js"><\/script>')</script>
    @{ 
			string scripts = SquishIt.Framework.Bundle.JavaScript()
                
                .Add("~/scripts/jquery/plugins/jquery.validate.js")
				
                .Add("~/scripts/common.js")
                
                // Foundation Resources. Use only what you need
                .Add("~/scripts/foundation/jquery.foundation.alerts.js")
                .Add("~/scripts/foundation/jquery.foundation.buttons.js")
				.Add("~/scripts/foundation/jquery.offcanvas.js")
                .Add("~/scripts/foundation/jquery.foundation.forms.js")
                .Add("~/scripts/foundation/jquery.foundation.mediaQueryToggle.js") // Don't need in production
                .Add("~/scripts/foundation/jquery.foundation.navigation.js")
				.Add("~/scripts/foundation/jquery.foundation.topbar.js")
                .Add("~/scripts/foundation/jquery.foundation.orbit.js")
                .Add("~/scripts/foundation/jquery.foundation.clearing.js")
                .Add("~/scripts/foundation/jquery.foundation.reveal.js")
                .Add("~/scripts/foundation/jquery.foundation.tabs.js")
                .Add("~/scripts/foundation/jquery.foundation.tooltips.js")
                .Add("~/scripts/foundation/app.js")

				// Kendo for general uploading and media widgets
				.Add("~/Scripts/kendo/kendo.core.min.js")
				.Add("~/Scripts/kendo/kendo.upload.min.js")

				.Add("~/scripts/jquery/plugins/jquery.noty.js")
				.Add("~/scripts/jquery/plugins/jquery.noty.layout.js")
				.Add("~/scripts/jquery/plugins/jquery.noty.theme.js")
							
				// jQueryUI - mainly used for calendar and tweening
				.Add("~/scripts/jqueryui/js/jquery-ui-1.9.2.custom.js")
				

                // Admin Area Specific JS
				.Add("~/Areas/Admin/Scripts/blogAdmin.js")
                .Add("~/Areas/Admin/Scripts/userAdmin.js")
                .Add("~/Areas/Admin/Scripts/contentAdmin.js")
                .Add("~/Areas/Admin/Scripts/categoriesAdmin.js")
                .Add("~/Areas/Admin/Scripts/mediaUploadWidget.js")
                .Add("~/Areas/Admin/Scripts/adminSave.js")
				
				//.ForceRelease() // Force Minification. Uncomment to minify
			.Render("~/scripts/admin_#.js");
    }
    @Html.Raw(scripts)

    @RenderSection("Scripts", false)
</body>
</html>